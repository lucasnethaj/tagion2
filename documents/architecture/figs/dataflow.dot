```graphviz
digraph G {
rankdir=UD;
  compound=true;
  labelangle=35;
   node [style=filled]
  node [ shape = "rect"];
  DART [shape = cylinder]
  TLS [ style=filled fillcolor=green ];
  Network [ style=filled fillcolor=red]
  Communication [shape = signature]
  Transcript [shape = note]
  Consensus [label="Consensus\nHashgraph"]
  subgraph cluster_1 {
    peripheries=0;
    style = rounded;
    TLS -> Communication [label="HiRPC(contract)" color=green];
 	Communication -> Collector [label=contract color=green];
	Collector -> TVM [label="contract-S" color=green];
	TVM -> Consensus [labelangle="45" label=contract color=green];
	Consensus -> Collector [label=contract color=darkgreen];
	Consensus -> Transcript [label=epoch color=green];
    TVM -> Transcript [label="archives\nin/out" color=red];
  };
  subgraph cluster_2 {
    peripheries=0;
	DART;
    style = rounded;
  };
  subgraph cluster_3 {
    peripheries=0;
    style = rounded;
	Recorder -> DARTSync [label=recorder color=blue dir=both];
	DARTSync -> P2P [label="DART(crud)" dir=both color=magenta];
	P2P -> Network [label=HiBON dir=both];
  };
  DARTSync -> DART [label="DART(crud)" color=magenta];
  DART -> Collector [label=archives color=red];
  Consensus -> P2P [label=gossip dir=both color=cyan4];
  Transcript -> DART [label=recorder color=blue];
}
```
